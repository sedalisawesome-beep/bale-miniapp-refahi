# 📝 راهنمای به‌روزرسانی مراکز رفاهی

این راهنما توضیح می‌دهد که چطور مراکز جدید اضافه کنید، مراکز موجود را ویرایش کنید، یا استان و دسته‌بندی جدید اضافه کنید.

---

## 🆕 اضافه کردن مرکز جدید

### مرحله 1: باز کردن فایل `app.js`

فایل `app.js` را با یک ویرایشگر متن (مثل Notepad، VSCode، یا Sublime) باز کنید.

### مرحله 2: پیدا کردن قسمت `centersData`

در خطوط 4-59، آبجکت `centersData` رو پیدا کنید که شبیه این است:

```javascript
const centersData = {
    tehran: {
        restaurant: [
            { name: 'کافه رستوران دیبارو', url: 'https://ble.ir/refah014/...' },
            { name: 'رستوران مخبرالدوله', url: 'https://ble.ir/refah014/...' }
        ],
        clothing: [ ... ],
        medical: [ ... ]
    }
};
```

### مرحله 3: اضافه کردن مرکز جدید

**مثال: اضافه کردن رستوران جدید به تهران**

```javascript
restaurant: [
    { name: 'کافه رستوران دیبارو', url: 'https://ble.ir/refah014/...' },
    { name: 'رستوران مخبرالدوله', url: 'https://ble.ir/refah014/...' },
    // مرکز جدید را اینجا اضافه کنید:
    { name: 'رستوران جدید من', url: 'https://ble.ir/YOUR_LINK' }
],
```

**⚠️ نکات مهم:**
- حتماً قبل از `]` اضافه کنید
- بعد از هر خط (به جز آخرین خط) `,` (کاما) بزارید
- فرمت را دقیق حفظ کنید

---

## ✏️ ویرایش مرکز موجود

فقط کافیه `name` یا `url` مرکز مورد نظر رو پیدا کنید و تغییرش بدید:

**قبل:**
```javascript
{ name: 'رستوران قدیمی', url: 'https://ble.ir/old-link' }
```

**بعد:**
```javascript
{ name: 'رستوران جدید', url: 'https://ble.ir/new-link' }
```

---

## 🗑️ حذف مرکز

خط مربوط به مرکز را کامل حذف کنید:

**قبل:**
```javascript
restaurant: [
    { name: 'رستوران 1', url: 'https://ble.ir/...' },
    { name: 'رستوران 2', url: 'https://ble.ir/...' },  // این رو حذف می‌کنیم
    { name: 'رستوران 3', url: 'https://ble.ir/...' }
],
```

**بعد:**
```javascript
restaurant: [
    { name: 'رستوران 1', url: 'https://ble.ir/...' },
    { name: 'رستوران 3', url: 'https://ble.ir/...' }
],
```

---

## 🏙️ اضافه کردن استان جدید

### مرحله 1: اضافه کردن داده استان

در `app.js` به قسمت `centersData` استان جدید اضافه کنید:

```javascript
const centersData = {
    tehran: { ... },

    // استان جدید:
    isfahan: {
        restaurant: [
            { name: 'رستوران اصفهان', url: 'https://ble.ir/...' }
        ],
        clothing: [
            { name: 'پوشاک اصفهان', url: 'https://ble.ir/...' }
        ]
    }
};
```

### مرحله 2: اضافه کردن به فیلتر

در فایل `index.html` به قسمت فیلتر استان اضافه کنید:

```html
<select id="provinceFilter" class="filter-select">
    <option value="all">همه استان‌ها</option>
    <option value="tehran">تهران</option>
    <option value="isfahan">اصفهان</option>  <!-- استان جدید -->
</select>
```

---

## 🗂️ اضافه کردن دسته‌بندی جدید

### مرحله 1: اضافه کردن به `categories` در `app.js`

```javascript
const categories = {
    restaurant: { title: 'رستوران‌ها', icon: '🍽️' },
    clothing: { title: 'پوشاک', icon: '👔' },
    medical: { title: 'مراکز درمانی', icon: '🏥' },

    // دسته جدید:
    gym: { title: 'باشگاه‌ها', icon: '💪' }
};
```

### مرحله 2: اضافه کردن داده به استان‌ها

```javascript
const centersData = {
    tehran: {
        restaurant: [ ... ],
        clothing: [ ... ],

        // دسته جدید:
        gym: [
            { name: 'باشگاه ورزشی 1', url: 'https://ble.ir/...' }
        ]
    }
};
```

### مرحله 3: اضافه کردن به فیلتر در `index.html`

```html
<select id="categoryFilter" class="filter-select">
    <option value="all">همه دسته‌ها</option>
    <option value="restaurant">رستوران‌ها</option>
    <option value="clothing">پوشاک</option>
    <option value="gym">باشگاه‌ها</option>  <!-- دسته جدید -->
</select>
```

---

## 🎨 تغییر آیکون دسته‌ها

می‌توانید آیکون (emoji) هر دسته را تغییر بدید:

```javascript
const categories = {
    restaurant: { title: 'رستوران‌ها', icon: '🍽️' },  // یا: 🍴 🍕 🍔
    clothing: { title: 'پوشاک', icon: '👔' },          // یا: 👕 👗 🧥
    medical: { title: 'مراکز درمانی', icon: '🏥' },    // یا: ⚕️ 💊 🩺
    pool: { title: 'استخرها', icon: '🏊' }            // یا: 🏊‍♂️ 💧 🌊
};
```

**لیست آیکون‌های پیشنهادی:**
- رستوران: 🍽️ 🍴 🍕 🍔 🍜 🥘 ☕
- پوشاک: 👔 👕 👗 🧥 👖 👞 🎽
- ورزش: 💪 🏋️ ⚽ 🏀 🏊 🚴 🧘
- درمان: 🏥 ⚕️ 💊 🩺 💉 🏨
- آموزش: 📚 🎓 ✏️ 📖 🏫 👨‍🎓
- خرید: 🛒 🛍️ 🏪 🏬 🎁

---

## 🚀 آپلود تغییرات به GitHub

بعد از هر تغییر، این دستورات رو در ترمینال اجرا کنید:

```bash
# 1. اضافه کردن تغییرات
git add app.js index.html

# 2. ثبت تغییرات با توضیح
git commit -m "اضافه شدن مرکز جدید به دسته رستوران‌ها"

# 3. آپلود به GitHub
git push
```

**بعد از 1-2 دقیقه** تغییرات در مینی اپ قابل مشاهده خواهد بود:
```
https://sedalisawesome-beep.github.io/bale-miniapp-refahi/
```

---

## 📋 مثال کامل: اضافه کردن مرکز جدید

### ✅ مثال عملی:

می‌خواهیم **"رستوران سنتی شیراز"** را به دسته رستوران‌ها اضافه کنیم.

**1. باز کردن `app.js`**

**2. پیدا کردن بخش `restaurant`:**

```javascript
restaurant: [
    { name: 'کافه رستوران دیبارو', url: 'https://ble.ir/refah014/-322532761545487303/1760446102660' },
    { name: 'رستوران مخبرالدوله', url: 'https://ble.ir/refah014/277381666708229803/1759566428339' },
    { name: 'فست فود گامبالو', url: 'https://ble.ir/refah014/-1518217144440737200/1759569915463' },
    // اینجا مرکز جدید اضافه می‌شود:
    { name: 'رستوران سنتی شیراز', url: 'https://ble.ir/refah014/123456789/987654321' }
],
```

**3. ذخیره فایل**

**4. Push کردن:**

```bash
git add app.js
git commit -m "اضافه شدن رستوران سنتی شیراز"
git push
```

**5. صبر کنید 1-2 دقیقه و مینی اپ آپدیت می‌شود!** ✅

---

## 🆘 رفع مشکلات رایج

### ❌ خطا: `Unexpected token`

**علت:** فراموش کردن `,` (کاما) یا `}` یا `]`

**راه حل:** فرمت را دقیق بررسی کنید. هر خط باید با `,` تمام شود (به جز آخرین خط).

### ❌ مرکز جدید نمایش داده نمی‌شود

**راه حل:**
1. کش مرورگر را پاک کنید (`Ctrl + Shift + R`)
2. مطمئن شوید که `git push` با موفقیت انجام شده
3. صبر کنید 2-3 دقیقه تا GitHub Pages آپدیت شود

### ❌ صفحه خراب شد!

**راه حل:** به نسخه قبلی برگردید:

```bash
git log --oneline  # لیست تغییرات
git revert HEAD    # برگشت به نسخه قبل
git push
```

---

## 💡 نکات مفید

1. **پشتیبان بگیرید:** قبل از هر تغییر از فایل `app.js` کپی بگیرید
2. **تغییرات کوچک:** هر بار یک تغییر کوچک انجام بدید و تست کنید
3. **توضیح واضح:** در `git commit` توضیح واضح بنویسید
4. **تست قبل از push:** در مرورگر لوکال تست کنید (با باز کردن `index.html`)

---

## 📞 کمک بیشتر

اگر سوالی داشتید یا کمک نیاز داشتید، بپرسید! 🚀
