<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูพูู ูุฏุฑุช - ูุฑุงฺฉุฒ ุฑูุงู</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-header">
                <h1>๐ ูุฑูุฏ ุจู ูพูู ูุฏุฑุช</h1>
                <p>ูุฑุงฺฉุฒ ุฑูุงู ู ุฎุฏูุงุช ุงุณุชุงู ุชูุฑุงู</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username">ูุงู ฺฉุงุฑุจุฑ</label>
                    <input type="text" id="username" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="password">ุฑูุฒ ุนุจูุฑ</label>
                    <input type="password" id="password" required autocomplete="current-password">
                </div>
                <div id="loginError" class="error-message" style="display: none;"></div>
                <button type="submit" class="btn-primary">ูุฑูุฏ</button>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-content">
                <h1>ูพูู ูุฏุฑุช ูุฑุงฺฉุฒ</h1>
                <button id="logoutBtn" class="btn-logout">ุฎุฑูุฌ ๐ช</button>
            </div>
        </header>

        <!-- Stats -->
        <div class="stats-container">
            <div class="stat-box">
                <div class="stat-number" id="totalCentersAdmin">0</div>
                <div class="stat-label">ฺฉู ูุฑุงฺฉุฒ</div>
            </div>
            <div class="stat-box">
                <div class="stat-number">6</div>
                <div class="stat-label">ุฏุณุชูโุจูุฏ</div>
            </div>
        </div>

        <!-- Add Center Button -->
        <div class="actions-bar">
            <button id="addCenterBtn" class="btn-add">
                โ ุงูุฒูุฏู ูุฑฺฉุฒ ุฌุฏุฏ
            </button>
            <button id="importDataBtn" class="btn-secondary">
                ๐ฅ ุจุงุฑฺฏุฐุงุฑ ุฏุงุฏูโูุง ุงููู
            </button>
            <button id="manageUsersBtn" class="btn-secondary" style="display: none;">
                ๐ฅ ูุฏุฑุช ฺฉุงุฑุจุฑุงู
            </button>
        </div>

        <!-- Filters -->
        <div class="filters-bar">
            <select id="provinceFilterAdmin" class="filter-select">
                <option value="all">ููู ุงุณุชุงูโูุง</option>
                <option value="tehran">ุชูุฑุงู</option>
                <option value="gilan">ฺฏูุงู</option>
                <option value="azarbayjan_sharghi">ุขุฐุฑุจุงุฌุงู ุดุฑู</option>
                <option value="azarbayjan_gharbi">ุขุฐุฑุจุงุฌุงู ุบุฑุจ</option>
                <option value="kermanshah">ฺฉุฑูุงูุดุงู</option>
                <option value="khuzestan">ุฎูุฒุณุชุงู</option>
                <option value="fars">ูุงุฑุณ</option>
                <option value="esfahan">ุงุตููุงู</option>
                <option value="khorasan_razavi">ุฎุฑุงุณุงู ุฑุถู</option>
                <option value="qazvin">ูุฒูู</option>
                <option value="semnan">ุณููุงู</option>
                <option value="qom">ูู</option>
                <option value="markazi">ูุฑฺฉุฒ</option>
                <option value="zanjan">ุฒูุฌุงู</option>
                <option value="mazandaran">ูุงุฒูุฏุฑุงู</option>
                <option value="golestan">ฺฏูุณุชุงู</option>
                <option value="ardabil">ุงุฑุฏุจู</option>
                <option value="yazd">ุฒุฏ</option>
                <option value="kerman">ฺฉุฑูุงู</option>
                <option value="hormozgan">ูุฑูุฒฺฏุงู</option>
                <option value="lorestan">ูุฑุณุชุงู</option>
                <option value="ilam">ุงูุงู</option>
                <option value="kohgiluyeh">ฺฉูฺฏููู ู ุจูุฑุงุญูุฏ</option>
                <option value="bushehr">ุจูุดูุฑ</option>
                <option value="sistan">ุณุณุชุงู ู ุจููฺุณุชุงู</option>
                <option value="kurdistan">ฺฉุฑุฏุณุชุงู</option>
                <option value="hamedan">ููุฏุงู</option>
                <option value="chaharmahal">ฺูุงุฑูุญุงู ู ุจุฎุชุงุฑ</option>
                <option value="khorasan_shomali">ุฎุฑุงุณุงู ุดูุงู</option>
                <option value="khorasan_jonubi">ุฎุฑุงุณุงู ุฌููุจ</option>
                <option value="alborz">ุงูุจุฑุฒ</option>
            </select>
            <select id="categoryFilterAdmin" class="filter-select">
                <option value="all">ููู ุฏุณุชูโูุง</option>
                <option value="restaurant">ุฑุณุชูุฑุงูโูุง</option>
                <option value="clothing">ูพูุดุงฺฉ</option>
                <option value="medical">ูุฑุงฺฉุฒ ุฏุฑูุงู</option>
                <option value="pool">ุงุณุชุฎุฑูุง</option>
                <option value="welfare">ุฑูุงู ู ุฎุฏูุงุช</option>
                <option value="optical">ุนูฺฉ ูุฑูุด</option>
            </select>
            <input type="text" id="searchAdmin" placeholder="ุฌุณุชุฌู..." class="search-input">
        </div>

        <!-- Centers List -->
        <div id="centersList" class="centers-list">
            <!-- Centers will be loaded here -->
        </div>
    </div>

    <!-- Add/Edit Modal -->
    <div id="centerModal" class="modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h2 id="modalTitle">ุงูุฒูุฏู ูุฑฺฉุฒ ุฌุฏุฏ</h2>
                <button class="modal-close" id="modalClose">โ</button>
            </div>
            <form id="centerForm" class="modal-body">
                <div class="form-group">
                    <label for="centerProvince">ุงุณุชุงู *</label>
                    <select id="centerProvince" required>
                        <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
                        <option value="tehran">ุชูุฑุงู</option>
                        <option value="gilan">ฺฏูุงู</option>
                        <option value="azarbayjan_sharghi">ุขุฐุฑุจุงุฌุงู ุดุฑู</option>
                        <option value="azarbayjan_gharbi">ุขุฐุฑุจุงุฌุงู ุบุฑุจ</option>
                        <option value="kermanshah">ฺฉุฑูุงูุดุงู</option>
                        <option value="khuzestan">ุฎูุฒุณุชุงู</option>
                        <option value="fars">ูุงุฑุณ</option>
                        <option value="esfahan">ุงุตููุงู</option>
                        <option value="khorasan_razavi">ุฎุฑุงุณุงู ุฑุถู</option>
                        <option value="qazvin">ูุฒูู</option>
                        <option value="semnan">ุณููุงู</option>
                        <option value="qom">ูู</option>
                        <option value="markazi">ูุฑฺฉุฒ</option>
                        <option value="zanjan">ุฒูุฌุงู</option>
                        <option value="mazandaran">ูุงุฒูุฏุฑุงู</option>
                        <option value="golestan">ฺฏูุณุชุงู</option>
                        <option value="ardabil">ุงุฑุฏุจู</option>
                        <option value="yazd">ุฒุฏ</option>
                        <option value="kerman">ฺฉุฑูุงู</option>
                        <option value="hormozgan">ูุฑูุฒฺฏุงู</option>
                        <option value="lorestan">ูุฑุณุชุงู</option>
                        <option value="ilam">ุงูุงู</option>
                        <option value="kohgiluyeh">ฺฉูฺฏููู ู ุจูุฑุงุญูุฏ</option>
                        <option value="bushehr">ุจูุดูุฑ</option>
                        <option value="sistan">ุณุณุชุงู ู ุจููฺุณุชุงู</option>
                        <option value="kurdistan">ฺฉุฑุฏุณุชุงู</option>
                        <option value="hamedan">ููุฏุงู</option>
                        <option value="chaharmahal">ฺูุงุฑูุญุงู ู ุจุฎุชุงุฑ</option>
                        <option value="khorasan_shomali">ุฎุฑุงุณุงู ุดูุงู</option>
                        <option value="khorasan_jonubi">ุฎุฑุงุณุงู ุฌููุจ</option>
                        <option value="alborz">ุงูุจุฑุฒ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="centerName">ูุงู ูุฑฺฉุฒ *</label>
                    <input type="text" id="centerName" required>
                </div>

                <div class="form-group">
                    <label for="centerCategory">ุฏุณุชูโุจูุฏ *</label>
                    <select id="centerCategory" required>
                        <option value="">ุงูุชุฎุงุจ ฺฉูุฏ...</option>
                        <option value="restaurant">ุฑุณุชูุฑุงูโูุง</option>
                        <option value="clothing">ูพูุดุงฺฉ</option>
                        <option value="medical">ูุฑุงฺฉุฒ ุฏุฑูุงู</option>
                        <option value="pool">ุงุณุชุฎุฑูุง</option>
                        <option value="welfare">ุฑูุงู ู ุฎุฏูุงุช</option>
                        <option value="optical">ุนูฺฉ ูุฑูุด</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="centerType">ููุน ูุฑฺฉุฒ *</label>
                    <select id="centerType" required>
                        <option value="single">ูุฑฺฉุฒ ุชฺฉ (ุจุง ููฺฉ ูุณุชูู)</option>
                        <option value="table">ูุณุช ูุฑุงฺฉุฒ (ุฌุฏูู)</option>
                    </select>
                </div>

                <div class="form-group" id="urlGroup">
                    <label for="centerUrl">ููฺฉ ฺฉุงูุงู *</label>
                    <input type="url" id="centerUrl" placeholder="https://ble.ir/...">
                </div>

                <div class="form-group" id="tableGroup" style="display: none;">
                    <label>ูุฏุฑุช ูุณุช ูุฑุงฺฉุฒ</label>
                    <button type="button" class="btn-secondary" id="manageTableBtn">
                        ๐ ูุฏุฑุช ุฌุฏูู ูุฑุงฺฉุฒ
                    </button>
                    <small style="color: #666; font-size: 12px; display: block; margin-top: 5px;">
                        ุชุนุฏุงุฏ: <span id="tableItemsCount">0</span> ูุฑฺฉุฒ
                    </small>
                </div>

                <div class="form-group">
                    <label for="centerAddress">ุขุฏุฑุณ</label>
                    <input type="text" id="centerAddress" placeholder="ุขุฏุฑุณ ุฏูู ูุฑฺฉุฒ (ุงุฎุชุงุฑ)">
                </div>

                <div class="form-group">
                    <label for="centerPhone">ุชููู</label>
                    <input type="tel" id="centerPhone" placeholder="021-12345678 (ุงุฎุชุงุฑ)">
                </div>

                <div class="form-group">
                    <label for="centerImage">ุนฺฉุณ ูุฑฺฉุฒ</label>
                    <input type="file" id="centerImage" accept="image/*">
                    <div id="imagePreview" class="image-preview" style="display: none;">
                        <img id="previewImg" src="" alt="ูพุดโููุงุด">
                        <button type="button" class="btn-remove-image" id="removeImage">โ ุญุฐู ุนฺฉุณ</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="centerLocation">ููฺฉ ูููุนุช ูฺฉุงู (Google Maps)</label>
                    <input type="url" id="centerLocation" placeholder="https://maps.google.com/... (ุงุฎุชุงุฑ)">
                    <small style="color: #666; font-size: 12px;">๐ก ุงุฒ Google Maps ููฺฉ ูููุนุช ุฑุง ฺฉูพ ฺฉูุฏ</small>
                </div>

                <div class="form-group">
                    <label for="centerRating">ุงูุชุงุฒ (ุณุชุงุฑู)</label>
                    <div class="rating-input">
                        <div class="stars-display" id="starsDisplay">
                            <span class="star" data-rating="1">โ</span>
                            <span class="star" data-rating="2">โ</span>
                            <span class="star" data-rating="3">โ</span>
                            <span class="star" data-rating="4">โ</span>
                            <span class="star" data-rating="5">โ</span>
                        </div>
                        <input type="hidden" id="centerRating" value="0">
                        <small style="color: #666; font-size: 12px;">ฺฉูฺฉ ฺฉูุฏ ุชุง ุงูุชุงุฒ ุฏูุฏ (ุงุฎุชุงุฑ)</small>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn-primary">๐พ ุฐุฎุฑู</button>
                    <button type="button" class="btn-secondary" id="modalCancel">ุงูุตุฑุงู</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Table Management Modal -->
    <div id="tableModal" class="modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-dialog" style="max-width: 900px;">
            <div class="modal-header">
                <h2>๐ ูุฏุฑุช ุฌุฏูู ูุฑุงฺฉุฒ</h2>
                <button class="modal-close" id="tableModalClose">โ</button>
            </div>
            <div class="modal-body">
                <!-- Add Item Form -->
                <div class="table-add-form">
                    <h3>ุงูุฒูุฏู ูุฑฺฉุฒ ุฌุฏุฏ</h3>
                    <form id="addTableItemForm" class="table-item-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="itemCity">ูุงู ุดูุฑ *</label>
                                <input type="text" id="itemCity" required>
                            </div>
                            <div class="form-group">
                                <label for="itemName">ูุงู ูุฑฺฉุฒ *</label>
                                <input type="text" id="itemName" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="itemPhone">ุดูุงุฑู ุชููู *</label>
                                <input type="tel" id="itemPhone" required placeholder="021-12345678">
                            </div>
                            <div class="form-group">
                                <label for="itemAddress">ุขุฏุฑุณ *</label>
                                <input type="text" id="itemAddress" required>
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">โ ุงูุฒูุฏู ุจู ุฌุฏูู</button>
                    </form>
                </div>

                <!-- Table Items List -->
                <div class="table-items-container">
                    <h3>ูุณุช ูุฑุงฺฉุฒ (<span id="tableItemsCountModal">0</span>)</h3>
                    <div class="table-responsive">
                        <table id="tableItemsList" class="data-table">
                            <thead>
                                <tr>
                                    <th>ุฑุฏู</th>
                                    <th>ูุงู ุดูุฑ</th>
                                    <th>ูุงู ูุฑฺฉุฒ</th>
                                    <th>ุดูุงุฑู ุชููู</th>
                                    <th>ุขุฏุฑุณ</th>
                                    <th>ุนููุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="tableItemsBody">
                                <!-- Items will be added here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-primary" id="saveTableBtn">๐พ ุฐุฎุฑู ู ุจุณุชู</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Users Management Modal -->
    <div id="usersModal" class="modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-dialog" style="max-width: 900px;">
            <div class="modal-header">
                <h2>๐ฅ ูุฏุฑุช ฺฉุงุฑุจุฑุงู</h2>
                <button class="modal-close" id="usersModalClose">โ</button>
            </div>
            <div class="modal-body">
                <div class="users-list-container">
                    <table id="usersTable" class="data-table">
                        <thead>
                            <tr>
                                <th>ูุงู ฺฉุงุฑุจุฑ</th>
                                <th>ุฑูุฒ ุนุจูุฑ</th>
                                <th>ููุด</th>
                                <th>ุงุณุชุงู</th>
                                <th>ุนููุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Users will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div id="editUserModal" class="modal" style="display: none;">
        <div class="modal-overlay"></div>
        <div class="modal-dialog">
            <div class="modal-header">
                <h2>โ๏ธ ูุฑุงุด ฺฉุงุฑุจุฑ</h2>
                <button class="modal-close" id="editUserModalClose">โ</button>
            </div>
            <form id="editUserForm" class="modal-body">
                <div class="form-group">
                    <label for="editUsername">ูุงู ฺฉุงุฑุจุฑ *</label>
                    <input type="text" id="editUsername" required>
                </div>

                <div class="form-group">
                    <label for="editPassword">ุฑูุฒ ุนุจูุฑ ุฌุฏุฏ *</label>
                    <input type="text" id="editPassword" required>
                    <small style="color: #666; font-size: 12px;">๐ก ุฑูุฒ ุนุจูุฑ ูู ุงูุชุฎุงุจ ฺฉูุฏ</small>
                </div>

                <div class="form-group">
                    <label>ููุด</label>
                    <input type="text" id="editRole" readonly style="background: #f5f5f5;">
                </div>

                <div class="form-group">
                    <label>ุงุณุชุงู</label>
                    <input type="text" id="editProvince" readonly style="background: #f5f5f5;">
                </div>

                <div class="modal-footer">
                    <button type="submit" class="btn-primary">๐พ ุฐุฎุฑู ุชุบุฑุงุช</button>
                    <button type="button" class="btn-secondary" id="editUserCancel">ุงูุตุฑุงู</button>
                </div>
            </form>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="admin.js"></script>
</body>
</html>
